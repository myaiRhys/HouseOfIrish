<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Management</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #dc2626;
            --primary-dark: #b91c1c;
            --primary-light: #ef4444;
            --secondary: #10b981;
            --secondary-dark: #059669;
            --accent: #f59e0b;
            --text-dark: #0f172a;
            --text-medium: #475569;
            --text-light: #94a3b8;
            --background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            --card-bg: #ffffff;
            --border: #e2e8f0;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f8fafc;
            color: var(--text-dark);
            font-size: 16px;
            line-height: 1.5;
            padding-bottom: 80px;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: var(--background);
            color: white;
            padding: 16px;
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left h1 {
            font-size: 22px;
            font-weight: 700;
        }

        .lang-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .lang-toggle:active {
            transform: scale(0.95);
        }

        /* Container */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 12px;
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 12px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            box-shadow: var(--shadow);
            border-left: 3px solid var(--primary);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-medium);
            font-weight: 600;
            text-transform: uppercase;
            margin-top: 2px;
        }

        /* Section */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding: 0 4px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .section-controls {
            display: flex;
            gap: 8px;
        }

        .toggle-btn {
            background: white;
            border: 1px solid var(--border);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-medium);
            cursor: pointer;
            transition: all 0.2s;
        }

        .toggle-btn:active {
            transform: scale(0.95);
        }

        .toggle-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Add Form */
        .add-form-container {
            margin-bottom: 12px;
        }

        .add-form-toggle {
            background: var(--background);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: var(--shadow);
            transition: all 0.2s;
        }

        .add-form-toggle:active {
            transform: scale(0.98);
        }

        .add-form {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 16px;
            margin-top: 8px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all 0.3s;
        }

        .add-form.open {
            max-height: 600px;
            opacity: 1;
        }

        .form-group {
            margin-bottom: 12px;
        }

        .form-label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 6px;
            color: var(--text-dark);
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 10px;
            font-size: 14px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-family: inherit;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-textarea {
            resize: vertical;
            min-height: 60px;
        }

        .btn-primary {
            width: 100%;
            padding: 12px;
            font-size: 15px;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            background: var(--background);
            color: white;
            transition: all 0.2s;
        }

        .btn-primary:active {
            transform: scale(0.98);
        }

        /* List Items */
        .items-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .list-separator {
            margin: 16px 0 12px;
            padding: 8px 8px 4px;
            border-top: 2px solid var(--border);
        }

        .separator-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s;
        }

        .card:active {
            transform: scale(0.99);
        }

        .card.completed {
            opacity: 0.5;
            background: #f8fafc;
        }

        .checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: var(--secondary);
            flex-shrink: 0;
        }

        .item-details {
            flex: 1;
            min-width: 0;
        }

        .item-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .category-badge {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .category-food { background: #fef3c7; color: #92400e; }
        .category-cleaning { background: #d1fae5; color: #065f46; }
        .category-pet { background: #e0e7ff; color: #3730a3; }

        .item-name {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .item-name.completed {
            text-decoration: line-through;
            color: var(--text-light);
        }

        .item-note {
            font-size: 13px;
            color: var(--text-medium);
            margin-top: 2px;
        }

        .item-meta {
            display: flex;
            gap: 6px;
            margin-top: 4px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge-member { background: #fee2e2; color: #991b1b; }
        .badge-recurring { background: #fef3c7; color: #92400e; }

        .delete-btn {
            background: var(--primary-light);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            flex-shrink: 0;
            transition: all 0.2s;
        }

        .delete-btn:active {
            transform: scale(0.95);
        }

        /* Standard Items */
        .standard-items {
            margin-top: 24px;
            padding-top: 16px;
            border-top: 2px dashed var(--border);
        }

        .standard-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-medium);
            margin-bottom: 12px;
            padding: 0 4px;
        }

        .quick-add-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .quick-add-btn {
            background: white;
            border: 1px solid var(--border);
            padding: 10px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-add-btn:active {
            transform: scale(0.98);
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Members */
        .members-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .member-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .member-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: white;
            margin: 0 auto 12px;
        }

        .avatar-john { background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%); }
        .avatar-sarah { background: linear-gradient(135deg, #ec4899 0%, #be185d 100%); }
        .avatar-mary { background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%); }
        .avatar-tom { background: linear-gradient(135deg, #10b981 0%, #047857 100%); }

        .member-name {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .member-role {
            font-size: 12px;
            color: var(--text-medium);
            margin-bottom: 8px;
        }

        .member-stats {
            font-size: 12px;
            color: var(--text-light);
            font-weight: 600;
        }

        /* Navigation */
        .nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--border);
            display: flex;
            padding: 8px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
            z-index: 100;
        }

        .nav-btn {
            flex: 1;
            padding: 8px;
            border: none;
            background: none;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-light);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            border-radius: 6px;
        }

        .nav-btn .emoji {
            font-size: 24px;
        }

        .nav-btn.active {
            color: var(--primary);
            background: #fee2e2;
        }

        .nav-btn:active {
            transform: scale(0.95);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 24px;
            max-width: 360px;
            width: 100%;
            text-align: center;
            box-shadow: var(--shadow-lg);
        }

        .modal-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .modal-text {
            font-size: 14px;
            color: var(--text-medium);
            margin-bottom: 20px;
        }

        .modal-buttons {
            display: flex;
            gap: 8px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            font-size: 14px;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .modal-btn-cancel {
            background: #f1f5f9;
            color: var(--text-dark);
        }

        .modal-btn-confirm {
            background: var(--primary);
            color: white;
        }

        /* Toast */
        .toast {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(-60px);
            background: var(--secondary);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            opacity: 0;
            transition: all 0.3s;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* Page */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
        }

        .empty-state .emoji {
            font-size: 48px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        .empty-state-text {
            font-size: 14px;
            color: var(--text-light);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>üè† <span id="header-title">Home Manager</span></h1>
        </div>
        <button class="lang-toggle" onclick="toggleLanguage()">
            <span id="lang-text">EN</span>
        </button>
    </div>

    <div class="container">
        <!-- Shopping List Page -->
        <div id="shopping-page" class="page active">
            <div class="stats-grid" id="shopping-stats"></div>

            <div class="section-header">
                <h2 class="section-title" id="shopping-title">Shopping List</h2>
                <div class="section-controls">
                    <button class="toggle-btn" id="hide-completed-shopping" onclick="toggleHideCompletedShopping()">
                        <span id="hide-shopping-text">Hide Done</span>
                    </button>
                </div>
            </div>

            <div class="add-form-container">
                <button class="add-form-toggle" onclick="toggleForm('shopping')">
                    <span>‚ûï</span>
                    <span id="add-shopping-btn">Add Item</span>
                </button>
                <div class="add-form" id="shopping-form">
                    <form id="add-shopping-form">
                        <div class="form-group">
                            <label class="form-label" id="item-name-label">Item Name</label>
                            <input type="text" class="form-input" id="shopping-item-name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" id="category-label">Category</label>
                            <select class="form-select" id="shopping-category" required>
                                <option value="food">üçé Food</option>
                                <option value="cleaning">üßπ Cleaning</option>
                                <option value="pet">üêæ Pet Supplies</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" id="notes-label">Notes (Optional)</label>
                            <textarea class="form-textarea" id="shopping-notes"></textarea>
                        </div>
                        <button type="submit" class="btn-primary" id="add-item-btn">Add to List</button>
                    </form>
                </div>
            </div>

            <div class="items-list" id="shopping-list"></div>

            <div class="standard-items">
                <div class="standard-title" id="quick-add-title">Quick Add Common Items</div>
                <div class="quick-add-grid">
                    <button class="quick-add-btn" onclick="quickAddShopping('Milk', 'food')">ü•õ <span id="q-milk">Milk</span></button>
                    <button class="quick-add-btn" onclick="quickAddShopping('Bread', 'food')">üçû <span id="q-bread">Bread</span></button>
                    <button class="quick-add-btn" onclick="quickAddShopping('Eggs', 'food')">ü•ö <span id="q-eggs">Eggs</span></button>
                    <button class="quick-add-btn" onclick="quickAddShopping('Soap', 'cleaning')">üßº <span id="q-soap">Soap</span></button>
                    <button class="quick-add-btn" onclick="quickAddShopping('Toilet paper', 'cleaning')">üßª <span id="q-toilet">Toilet Paper</span></button>
                    <button class="quick-add-btn" onclick="quickAddShopping('Dog food', 'pet')">üêï <span id="q-dogfood">Dog Food</span></button>
                </div>
            </div>
        </div>

        <!-- Tasks Page -->
        <div id="tasks-page" class="page">
            <div class="stats-grid" id="tasks-stats"></div>

            <div class="section-header">
                <h2 class="section-title" id="tasks-title">Task List</h2>
                <div class="section-controls">
                    <button class="toggle-btn" id="hide-completed-tasks" onclick="toggleHideCompletedTasks()">
                        <span id="hide-tasks-text">Hide Done</span>
                    </button>
                </div>
            </div>

            <div class="add-form-container">
                <button class="add-form-toggle" onclick="toggleForm('task')">
                    <span>‚ûï</span>
                    <span id="add-task-btn">Add Task</span>
                </button>
                <div class="add-form" id="task-form">
                    <form id="add-task-form">
                        <div class="form-group">
                            <label class="form-label" id="task-name-label">Task Name</label>
                            <input type="text" class="form-input" id="task-name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" id="assign-label">Assign To</label>
                            <select class="form-select" id="task-member" required>
                                <option value="john">John</option>
                                <option value="sarah">Sarah</option>
                                <option value="mary">Mary</option>
                                <option value="tom">Tom</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" id="recurring-label">Recurring</label>
                            <select class="form-select" id="task-recurring">
                                <option value="">None</option>
                                <option value="daily" id="daily-option">Daily</option>
                                <option value="weekly" id="weekly-option">Weekly</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" id="task-notes-label">Notes (Optional)</label>
                            <textarea class="form-textarea" id="task-notes"></textarea>
                        </div>
                        <button type="submit" class="btn-primary" id="create-task-btn">Create Task</button>
                    </form>
                </div>
            </div>

            <div class="items-list" id="task-list"></div>

            <div class="standard-items">
                <div class="standard-title" id="quick-tasks-title">Quick Add Common Tasks</div>
                <div class="quick-add-grid">
                    <button class="quick-add-btn" onclick="quickAddTask('Feed dogs', 'daily')">üêï <span id="qt-feed">Feed Dogs</span></button>
                    <button class="quick-add-btn" onclick="quickAddTask('Water garden', 'weekly')">üíß <span id="qt-water">Water Garden</span></button>
                    <button class="quick-add-btn" onclick="quickAddTask('Take out trash', 'daily')">üóëÔ∏è <span id="qt-trash">Take Out Trash</span></button>
                    <button class="quick-add-btn" onclick="quickAddTask('Clean house', 'weekly')">üßπ <span id="qt-clean">Clean House</span></button>
                    <button class="quick-add-btn" onclick="quickAddTask('Do laundry', 'weekly')">üëï <span id="qt-laundry">Do Laundry</span></button>
                    <button class="quick-add-btn" onclick="quickAddTask('Buy groceries', '')">üõí <span id="qt-groceries">Buy Groceries</span></button>
                </div>
            </div>
        </div>

        <!-- Members Page -->
        <div id="members-page" class="page">
            <h2 class="section-title" id="members-title" style="margin-bottom: 12px; padding: 0 4px;">Household Members</h2>
            <div class="members-grid" id="members-list"></div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="nav">
        <button class="nav-btn active" data-page="shopping-page">
            <span class="emoji">üõí</span>
            <span id="nav-shopping">Shopping</span>
        </button>
        <button class="nav-btn" data-page="tasks-page">
            <span class="emoji">‚úì</span>
            <span id="nav-tasks">Tasks</span>
        </button>
        <button class="nav-btn" data-page="members-page">
            <span class="emoji">üë•</span>
            <span id="nav-members">Members</span>
        </button>
    </nav>

    <!-- Delete Modal -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <div class="modal-icon">‚ö†Ô∏è</div>
            <div class="modal-title" id="modal-title">Delete Item?</div>
            <div class="modal-text" id="modal-text">Are you sure?</div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" onclick="closeDeleteModal()" id="modal-cancel">Cancel</button>
                <button class="modal-btn modal-btn-confirm" onclick="confirmDelete()" id="modal-confirm">Delete</button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast">
        <span id="toast-message"></span>
    </div>

    <script>
        // Language translations
        const translations = {
            en: {
                headerTitle: 'Home Manager',
                shoppingTitle: 'Shopping List',
                tasksTitle: 'Task List',
                membersTitle: 'Household Members',
                addShoppingBtn: 'Add Item',
                addTaskBtn: 'Add Task',
                itemNameLabel: 'Item Name',
                categoryLabel: 'Category',
                notesLabel: 'Notes (Optional)',
                addItemBtn: 'Add to List',
                taskNameLabel: 'Task Name',
                assignLabel: 'Assign To',
                recurringLabel: 'Recurring',
                taskNotesLabel: 'Notes (Optional)',
                createTaskBtn: 'Create Task',
                dailyOption: 'Daily',
                weeklyOption: 'Weekly',
                hideShoppingText: 'Hide Done',
                hideTasksText: 'Hide Done',
                showShoppingText: 'Show Done',
                showTasksText: 'Show Done',
                quickAddTitle: 'Quick Add Common Items',
                quickTasksTitle: 'Quick Add Common Tasks',
                navShopping: 'Shopping',
                navTasks: 'Tasks',
                navMembers: 'Members',
                modalTitle: 'Delete Item?',
                modalText: 'Are you sure?',
                modalCancel: 'Cancel',
                modalConfirm: 'Delete',
                statTotal: 'Total',
                statActive: 'To Do',
                statDone: 'Done',
                completedItems: 'Completed Items',
                qMilk: 'Milk',
                qBread: 'Bread',
                qEggs: 'Eggs',
                qSoap: 'Soap',
                qToilet: 'Toilet Paper',
                qDogFood: 'Dog Food',
                qtFeed: 'Feed Dogs',
                qtWater: 'Water Garden',
                qtTrash: 'Take Out Trash',
                qtClean: 'Clean House',
                qtLaundry: 'Do Laundry',
                qtGroceries: 'Buy Groceries'
            },
            xh: {
                headerTitle: 'Umlawuli Wekhaya',
                shoppingTitle: 'Uluhlu Lokuthenga',
                tasksTitle: 'Uluhlu Lwemisebenzi',
                membersTitle: 'Amalungu Ekhaya',
                addShoppingBtn: 'Yongeza Into',
                addTaskBtn: 'Yongeza Umsebenzi',
                itemNameLabel: 'Igama Lento',
                categoryLabel: 'Udidi',
                notesLabel: 'Amanqaku (Kunganyanzelekanga)',
                addItemBtn: 'Yongeza Kuluhlu',
                taskNameLabel: 'Igama Lomsebenzi',
                assignLabel: 'Yabela Ku',
                recurringLabel: 'Iyaphindaphinda',
                taskNotesLabel: 'Amanqaku (Kunganyanzelekanga)',
                createTaskBtn: 'Yenza Umsebenzi',
                dailyOption: 'Yonke Imihla',
                weeklyOption: 'Yonke Iveki',
                hideShoppingText: 'Fihla Ezenziwayo',
                hideTasksText: 'Fihla Ezenziwayo',
                showShoppingText: 'Bonisa Ezenziwayo',
                showTasksText: 'Bonisa Ezenziwayo',
                quickAddTitle: 'Yongeza Ngokukhawuleza',
                quickTasksTitle: 'Yongeza Imisebenzi Eqhelekileyo',
                navShopping: 'Ukuthenga',
                navTasks: 'Imisebenzi',
                navMembers: 'Amalungu',
                modalTitle: 'Cima Into?',
                modalText: 'Uqinisekile?',
                modalCancel: 'Rhoxisa',
                modalConfirm: 'Cima',
                statTotal: 'Konke',
                statActive: 'Ukwenza',
                statDone: 'Kwenziwe',
                completedItems: 'Izinto Ezigqityiweyo',
                qMilk: 'Ubisi',
                qBread: 'Isonka',
                qEggs: 'Amaqanda',
                qSoap: 'Isepha',
                qToilet: 'Iphepha Lasethoyilethi',
                qDogFood: 'Ukutya Kwenja',
                qtFeed: 'Ondla Izinja',
                qtWater: 'Nkcenkceshela Igadi',
                qtTrash: 'Khulula Inkunkuma',
                qtClean: 'Coca Indlu',
                qtLaundry: 'Hlamba Iimpahla',
                qtGroceries: 'Thenga Ukutya'
            }
        };

        let currentLang = 'en';
        let hideCompletedShopping = false;
        let hideCompletedTasks = false;

        // Mock Data
        let shoppingItems = [
            { id: 1, name: 'Full cream milk', category: 'food', notes: 'Get the red label, 2 litres', completed: false },
            { id: 2, name: 'Whole wheat bread', category: 'food', notes: 'Albany brand', completed: false },
            { id: 3, name: 'Free range eggs', category: 'food', notes: 'Large size', completed: false },
            { id: 4, name: 'Dish soap', category: 'cleaning', notes: 'Lemon scent', completed: false },
            { id: 5, name: 'Bleach', category: 'cleaning', notes: 'Thick formula', completed: false },
            { id: 6, name: 'Premium dog food', category: 'pet', notes: 'Blue 5kg bag', completed: true },
            { id: 7, name: 'Fresh vegetables', category: 'food', notes: '', completed: false }
        ];

        let tasks = [
            { id: 1, name: 'Feed the dogs', member: 'sarah', recurring: 'daily', notes: 'Morning and evening', completed: false },
            { id: 2, name: 'Water the garden', member: 'john', recurring: 'weekly', notes: 'Early morning', completed: false },
            { id: 3, name: 'Weekly grocery shopping', member: 'mary', recurring: '', notes: 'Check list first', completed: false },
            { id: 4, name: 'Clean the pool', member: 'tom', recurring: 'weekly', notes: 'Test pH levels', completed: false },
            { id: 5, name: 'Take out trash bins', member: 'john', recurring: 'daily', notes: 'Separate recycling', completed: true },
            { id: 6, name: 'Vacuum living room', member: 'mary', recurring: 'weekly', notes: '', completed: false }
        ];

        const members = [
            { id: 'john', name: 'John', role: 'Husband', initials: 'JH', color: 'avatar-john' },
            { id: 'sarah', name: 'Sarah', role: 'Wife', initials: 'SW', color: 'avatar-sarah' },
            { id: 'mary', name: 'Mary', role: 'Maid', initials: 'MM', color: 'avatar-mary' },
            { id: 'tom', name: 'Tom', role: 'Gardener', initials: 'TG', color: 'avatar-tom' }
        ];

        let deleteTarget = null;

        // Language toggle
        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'xh' : 'en';
            document.getElementById('lang-text').textContent = currentLang.toUpperCase();
            updateLanguage();
        }

        function updateLanguage() {
            const t = translations[currentLang];
            document.getElementById('header-title').textContent = t.headerTitle;
            document.getElementById('shopping-title').textContent = t.shoppingTitle;
            document.getElementById('tasks-title').textContent = t.tasksTitle;
            document.getElementById('members-title').textContent = t.membersTitle;
            document.getElementById('add-shopping-btn').textContent = t.addShoppingBtn;
            document.getElementById('add-task-btn').textContent = t.addTaskBtn;
            document.getElementById('item-name-label').textContent = t.itemNameLabel;
            document.getElementById('category-label').textContent = t.categoryLabel;
            document.getElementById('notes-label').textContent = t.notesLabel;
            document.getElementById('add-item-btn').textContent = t.addItemBtn;
            document.getElementById('task-name-label').textContent = t.taskNameLabel;
            document.getElementById('assign-label').textContent = t.assignLabel;
            document.getElementById('recurring-label').textContent = t.recurringLabel;
            document.getElementById('task-notes-label').textContent = t.taskNotesLabel;
            document.getElementById('create-task-btn').textContent = t.createTaskBtn;
            document.getElementById('daily-option').textContent = t.dailyOption;
            document.getElementById('weekly-option').textContent = t.weeklyOption;
            document.getElementById('hide-shopping-text').textContent = hideCompletedShopping ? t.showShoppingText : t.hideShoppingText;
            document.getElementById('hide-tasks-text').textContent = hideCompletedTasks ? t.showTasksText : t.hideTasksText;
            document.getElementById('quick-add-title').textContent = t.quickAddTitle;
            document.getElementById('quick-tasks-title').textContent = t.quickTasksTitle;
            document.getElementById('nav-shopping').textContent = t.navShopping;
            document.getElementById('nav-tasks').textContent = t.navTasks;
            document.getElementById('nav-members').textContent = t.navMembers;
            document.getElementById('modal-title').textContent = t.modalTitle;
            document.getElementById('modal-text').textContent = t.modalText;
            document.getElementById('modal-cancel').textContent = t.modalCancel;
            document.getElementById('modal-confirm').textContent = t.modalConfirm;

            // Quick add buttons
            document.getElementById('q-milk').textContent = t.qMilk;
            document.getElementById('q-bread').textContent = t.qBread;
            document.getElementById('q-eggs').textContent = t.qEggs;
            document.getElementById('q-soap').textContent = t.qSoap;
            document.getElementById('q-toilet').textContent = t.qToilet;
            document.getElementById('q-dogfood').textContent = t.qDogFood;
            document.getElementById('qt-feed').textContent = t.qtFeed;
            document.getElementById('qt-water').textContent = t.qtWater;
            document.getElementById('qt-trash').textContent = t.qtTrash;
            document.getElementById('qt-clean').textContent = t.qtClean;
            document.getElementById('qt-laundry').textContent = t.qtLaundry;
            document.getElementById('qt-groceries').textContent = t.qtGroceries;

            renderShoppingList();
            renderTaskList();
        }

        // Toast
        function showToast(message) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-message').textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        // Form toggle
        function toggleForm(type) {
            document.getElementById(`${type}-form`).classList.toggle('open');
        }

        // Hide completed toggles
        function toggleHideCompletedShopping() {
            hideCompletedShopping = !hideCompletedShopping;
            const btn = document.getElementById('hide-completed-shopping');
            const t = translations[currentLang];
            btn.classList.toggle('active');
            document.getElementById('hide-shopping-text').textContent = hideCompletedShopping ? t.showShoppingText : t.hideShoppingText;
            renderShoppingList();
        }

        function toggleHideCompletedTasks() {
            hideCompletedTasks = !hideCompletedTasks;
            const btn = document.getElementById('hide-completed-tasks');
            const t = translations[currentLang];
            btn.classList.toggle('active');
            document.getElementById('hide-tasks-text').textContent = hideCompletedTasks ? t.showTasksText : t.hideTasksText;
            renderTaskList();
        }

        // Navigation
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const pageId = btn.dataset.page;
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });

        // Shopping Stats
        function renderShoppingStats() {
            const total = shoppingItems.length;
            const completed = shoppingItems.filter(i => i.completed).length;
            const active = total - completed;
            const t = translations[currentLang];

            document.getElementById('shopping-stats').innerHTML = `
                <div class="stat-card">
                    <div class="stat-value">${total}</div>
                    <div class="stat-label">${t.statTotal}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${active}</div>
                    <div class="stat-label">${t.statActive}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${completed}</div>
                    <div class="stat-label">${t.statDone}</div>
                </div>
            `;
        }

        // Shopping List
        function renderShoppingList() {
            const container = document.getElementById('shopping-list');
            const t = translations[currentLang];

            // Sort: uncompleted first, completed last
            const sortedItems = [...shoppingItems].sort((a, b) => a.completed - b.completed);

            // Filter if needed
            let filteredItems = hideCompletedShopping
                ? sortedItems.filter(i => !i.completed)
                : sortedItems;

            if (filteredItems.length === 0) {
                container.innerHTML = `<div class="empty-state"><div class="emoji">üéâ</div><div class="empty-state-text">All done!</div></div>`;
                renderShoppingStats();
                return;
            }

            const categories = {
                food: { emoji: 'üçé', label: 'Food', class: 'category-food' },
                cleaning: { emoji: 'üßπ', label: 'Cleaning', class: 'category-cleaning' },
                pet: { emoji: 'üêæ', label: 'Pet', class: 'category-pet' }
            };

            let html = '';
            let inCompleted = false;

            filteredItems.forEach(item => {
                if (item.completed && !inCompleted && !hideCompletedShopping) {
                    html += `<div class="list-separator"><div class="separator-title">${t.completedItems}</div></div>`;
                    inCompleted = true;
                }

                const cat = categories[item.category];
                html += `
                    <div class="card ${item.completed ? 'completed' : ''}">
                        <input type="checkbox" class="checkbox" ${item.completed ? 'checked' : ''} onchange="toggleShoppingItem(${item.id})">
                        <div class="item-details">
                            <div class="item-header">
                                <span class="category-badge ${cat.class}">${cat.emoji} ${cat.label}</span>
                                <span class="item-name ${item.completed ? 'completed' : ''}">${item.name}</span>
                            </div>
                            ${item.notes ? `<div class="item-note">${item.notes}</div>` : ''}
                        </div>
                        <button class="delete-btn" onclick="deleteShoppingItem(${item.id})">üóëÔ∏è</button>
                    </div>
                `;
            });

            container.innerHTML = html;
            renderShoppingStats();
        }

        function toggleShoppingItem(id) {
            const item = shoppingItems.find(i => i.id === id);
            if (item) {
                item.completed = !item.completed;
                showToast(item.completed ? '‚úì Done!' : '‚Ü© Unmarked');
                renderShoppingList();
            }
        }

        function deleteShoppingItem(id) {
            deleteTarget = { type: 'shopping', id };
            document.getElementById('delete-modal').classList.add('active');
        }

        function quickAddShopping(name, category) {
            shoppingItems.unshift({
                id: Date.now(),
                name,
                category,
                notes: '',
                completed: false
            });
            renderShoppingList();
            showToast(`‚úì ${name} added!`);
        }

        document.getElementById('add-shopping-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('shopping-item-name').value;
            const category = document.getElementById('shopping-category').value;
            const notes = document.getElementById('shopping-notes').value;

            shoppingItems.unshift({
                id: Date.now(),
                name,
                category,
                notes,
                completed: false
            });

            renderShoppingList();
            e.target.reset();
            toggleForm('shopping');
            showToast('‚úì Item added!');
        });

        // Task Stats
        function renderTaskStats() {
            const total = tasks.length;
            const completed = tasks.filter(t => t.completed).length;
            const active = total - completed;
            const t = translations[currentLang];

            document.getElementById('tasks-stats').innerHTML = `
                <div class="stat-card">
                    <div class="stat-value">${total}</div>
                    <div class="stat-label">${t.statTotal}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${active}</div>
                    <div class="stat-label">${t.statActive}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${completed}</div>
                    <div class="stat-label">${t.statDone}</div>
                </div>
            `;
        }

        // Task List
        function renderTaskList() {
            const container = document.getElementById('task-list');
            const t = translations[currentLang];

            // Sort: uncompleted first, completed last
            const sortedTasks = [...tasks].sort((a, b) => a.completed - b.completed);

            // Filter if needed
            let filteredTasks = hideCompletedTasks
                ? sortedTasks.filter(t => !t.completed)
                : sortedTasks;

            if (filteredTasks.length === 0) {
                container.innerHTML = `<div class="empty-state"><div class="emoji">üéâ</div><div class="empty-state-text">All done!</div></div>`;
                renderTaskStats();
                return;
            }

            const recurringLabels = {
                daily: { emoji: 'üìÖ', label: currentLang === 'en' ? 'Daily' : 'Yonke Imihla' },
                weekly: { emoji: 'üìÜ', label: currentLang === 'en' ? 'Weekly' : 'Yonke Iveki' }
            };

            let html = '';
            let inCompleted = false;

            filteredTasks.forEach(task => {
                if (task.completed && !inCompleted && !hideCompletedTasks) {
                    html += `<div class="list-separator"><div class="separator-title">${t.completedItems}</div></div>`;
                    inCompleted = true;
                }

                const member = members.find(m => m.id === task.member);
                const recurring = recurringLabels[task.recurring];

                html += `
                    <div class="card ${task.completed ? 'completed' : ''}">
                        <input type="checkbox" class="checkbox" ${task.completed ? 'checked' : ''} onchange="toggleTask(${task.id})">
                        <div class="item-details">
                            <div class="item-name ${task.completed ? 'completed' : ''}">${task.name}</div>
                            ${task.notes ? `<div class="item-note">${task.notes}</div>` : ''}
                            <div class="item-meta">
                                <span class="badge badge-member">üë§ ${member.name}</span>
                                ${recurring ? `<span class="badge badge-recurring">${recurring.emoji} ${recurring.label}</span>` : ''}
                            </div>
                        </div>
                        <button class="delete-btn" onclick="deleteTask(${task.id})">üóëÔ∏è</button>
                    </div>
                `;
            });

            container.innerHTML = html;
            renderTaskStats();
        }

        function toggleTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                task.completed = !task.completed;
                showToast(task.completed ? '‚úì Done!' : '‚Ü© Unmarked');
                renderTaskList();
                renderMembers();
            }
        }

        function deleteTask(id) {
            deleteTarget = { type: 'task', id };
            document.getElementById('delete-modal').classList.add('active');
        }

        function quickAddTask(name, recurring) {
            tasks.unshift({
                id: Date.now(),
                name,
                member: 'john',
                recurring,
                notes: '',
                completed: false
            });
            renderTaskList();
            showToast(`‚úì ${name} added!`);
        }

        document.getElementById('add-task-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('task-name').value;
            const member = document.getElementById('task-member').value;
            const recurring = document.getElementById('task-recurring').value;
            const notes = document.getElementById('task-notes').value;

            tasks.unshift({
                id: Date.now(),
                name,
                member,
                recurring,
                notes,
                completed: false
            });

            renderTaskList();
            e.target.reset();
            toggleForm('task');
            showToast('‚úì Task created!');
        });

        // Members
        function renderMembers() {
            const container = document.getElementById('members-list');

            container.innerHTML = members.map(member => {
                const memberTasks = tasks.filter(t => t.member === member.id);
                const completedTasks = memberTasks.filter(t => t.completed).length;
                const totalTasks = memberTasks.length;

                return `
                    <div class="member-card">
                        <div class="member-avatar ${member.color}">${member.initials}</div>
                        <div class="member-name">${member.name}</div>
                        <div class="member-role">${member.role}</div>
                        <div class="member-stats">${completedTasks} / ${totalTasks} tasks done</div>
                    </div>
                `;
            }).join('');
        }

        // Delete Modal
        function closeDeleteModal() {
            document.getElementById('delete-modal').classList.remove('active');
            deleteTarget = null;
        }

        function confirmDelete() {
            if (!deleteTarget) return;

            if (deleteTarget.type === 'shopping') {
                shoppingItems = shoppingItems.filter(i => i.id !== deleteTarget.id);
                renderShoppingList();
            } else if (deleteTarget.type === 'task') {
                tasks = tasks.filter(t => t.id !== deleteTarget.id);
                renderTaskList();
                renderMembers();
            }

            closeDeleteModal();
            showToast('‚úì Deleted');
        }

        document.getElementById('delete-modal').addEventListener('click', (e) => {
            if (e.target.id === 'delete-modal') {
                closeDeleteModal();
            }
        });

        // Initialize
        renderShoppingList();
        renderTaskList();
        renderMembers();
    </script>
</body>
</html>